---
title: "2019 Syllabus (tentative)"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(kableExtra)
```

```{r child="list_of_labs.Rmd", include=FALSE}
```

```{r child="list_of_lectures.Rmd", include=FALSE}
```

```{r generate_dates, include=FALSE}
## first day of class
start_date <- as.Date("2019-01-08")
## all tues
tues <- seq.Date(from = start_date, by = 7, length.out = 10)
## all thur
thur <- tues + 2
## all qtr
qtr <- sort(c(tues, thur))
qtr <- sub("0(\\d)", "\\1", format(qtr, "%d %B"))
```

```{r weeks, include = FALSE}
week_lecs <- list(d1 = intro,
                   d2 = ts_basics,
                   d3 = arma_basics,
                   d4 = model_estimation,
                   d5 = uni_ss,
                   d6 = marss,
                   d7 = covariates,
                   d8 = model_inf,
                   d9 = dlm,
                   d10 = dlm2,
                   d11 = ets,
                   d12 = dfa,
                   d13 = bayes,
                   d14 = glm,
                   d15 = spat_cor,
                   d16 = interactions1,
                   d17 = interactions2,
                   d18 = perturb,
                   d19 = present1,
                   d20 = present2
)
```

```{r week_labs, include = FALSE}
week_labs <- list(d1 = matrixlab,
                   d2 = lmlab,
                   d3 = "",
                   d4 = arma,
                   d5 = "",
                   d6 = ss,
                   d7 = "",
                   d8 = model_sel,
                   d9 = "",
                   d10 = dlmlab,
                   d11 = "",
                   d12 = dfalab,
                   d13 = "",
                   d14 = glmlab,
                   d15 = "",
                   d16 = intlab,
                   d17 = "",
                   d18 = hier,
                   d19 = "",
                   d20 = list(topics="Celebration!")
)
```

```{r lecture_topics2, include = FALSE}
lec_topics <- lapply(week_lecs, function(x){if(is.list(x)){x$topics}else{""}})
## topics formatted for html
lec_topics_html <- sapply(lapply(lec_topics, paste, "<br>", collapse=""), c)
names(lec_topics_html) <- NULL
```

```{r lab_topics2, include = FALSE}
lab_topics <- lapply(week_labs, function(x){if(is.list(x)){x$topics}else{""}})
## topics formatted for html
lab_topics_html <- sapply(lapply(lab_topics, paste, "<br>", collapse=""), c)
names(lab_topics_html) <- NULL
```

```{r generate_syllabus, echo=FALSE}
## data frame with dates & topics
syl_txt <- data.frame(
  date = qtr,
  lec_topics = lec_topics_html,
  lab_topics = lab_topics_html
)
colnames(syl_txt) <- c("Date", "Lecture topics", "Lab topics")
## generate table
kable(syl_txt, format = "html", caption = " ", escape = FALSE) %>%
  kable_styling(bootstrap_options = "striped",
                full_width = F,
                position = "left") %>%
  column_spec(1, width = "8em") %>%
  column_spec(2, width = "27em")
```

```{r echo=FALSE}
save(qtr, week_lecs, week_labs,  file="syllabus.RData")
```